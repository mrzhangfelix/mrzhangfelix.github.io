# Linux 概述

## 什么是Linux

Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和Unix的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的Unix工具软件、应用程序和网络协议。它支持32位和64位硬件。Linux继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。

## Linux的基本组件是什么？

Linux拥有所有这些组件：内核，shell和GUI，系统实用程序和应用程序。

# 磁盘、目录、文件

**在 Linux 操作系统中，所有被操作系统管理的资源，例如网络接口卡、磁盘驱动器、打印机、输入输出设备、普通文件或是目录都被看作是一个文件。**

## 常见目录说明：

/bin： 存放二进制可执行文件(ls,cat,mkdir等)，常用命令一般都在这里；

/etc： 存放系统管理和配置文件；

/home： 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user，可以用~user表示；

**/usr **： 用于存放系统应用程序；

/opt： 额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把tomcat等都安装到这里；

/proc： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；

/root： 超级用户（系统管理员）的主目录（特权阶级o）；

/sbin: 存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等；

/dev： 用于存放设备文件；

/mnt： 系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；

/boot： 存放用于系统引导时使用的各种文件；

**/lib **： 存放着和系统运行相关的库文件 ；

/tmp： 用于存放各种临时文件，是公用的临时文件存储点；

/var： 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；

/lost+found： 这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里。

## 如何使脚本可执行?

使用 chmod 命令来使脚本可执行。

## 生产环境变慢的诊断思路

1. top命令查看整机性能
2. vmstat查看cpu性能
3. free命令查看内存
4. df查看硬盘使用情况
5. iostat命令查看磁盘的IO情况
6. ifstat命令查看网络的IO

## 生产环境出现CPU占用过高

1. 先用top命令找出CPU占比最高的
2. ps -ef或者jps命令定位是怎么样的一个后台程序
3. 定位到具体线程或代码行：：ps -mp 进程 -o THREAD,tid,time
   1. -m 显示所有线程
   2. -p pid进程使用cpu的时间
   3. -o 该参数后是用户自定义格式

4. 将需要的线程ID转换为16进制英文要小写

5. jstack 进程ID|grep tid -A60

   